{"version":3,"file":"static/js/168.b897d074.chunk.js","mappings":"8KAEMA,EAAU,mCACVC,EAAM,gDACNC,EAAqB,4CACrBC,EAAmB,qCAEVC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,6FACEC,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAASN,EACTO,SAAU,SAHd,kBAM2BF,EAAAA,EAAAA,IAAA,UAAaJ,IANxC,uBAMYO,EANZ,EAMYA,KANZ,kBAQWA,EAAKC,SARhB,gHAYeC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA8BC,GAA9B,gFACEN,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAASN,EACTO,SAAU,QACVK,MAAM,GAAD,OAAKD,IAJd,kBAO2BN,EAAAA,EAAAA,IAAA,UAAaH,IAPxC,uBAOYM,EAPZ,EAOYA,KAPZ,kBAQWA,EAAKC,SARhB,gHAYeI,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA4BC,GAA5B,gFACET,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAASN,EACTO,SAAU,SAHd,kBAM2BF,EAAAA,EAAAA,IAAA,UAAaF,EAAb,YAAiCW,IAN5D,uBAMYN,EANZ,EAMYA,KANZ,kBAQWA,GARX,gHAYeO,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAiCD,GAAjC,gFACET,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAASN,EACTO,SAAU,SAHd,kBAM2BF,EAAAA,EAAAA,IAAA,UAAaF,EAAb,YAAiCW,EAAjC,aAN3B,uBAMYN,EANZ,EAMYA,KANZ,kBAOWA,EAAKQ,MAPhB,gHAWeC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAmCH,GAAnC,gFACET,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAASN,EACTO,SAAU,QACVW,KAAM,GAJV,kBAO2Bb,EAAAA,EAAAA,IAAA,UAAaF,EAAb,YAAiCW,EAAjC,aAP3B,uBAOYN,EAPZ,EAOYA,KAPZ,kBAQWA,EAAKC,SARhB,gHAYA,IAAMU,EAAS,CACbC,QA9DF,WAEehB,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EA6DbiB,UAjDF,SAY4B,GAAbR,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EAsCbS,WA1BF,SAWmC,GAApBL,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EAgBbM,QAvCF,SAYiC,GAAlBR,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EA4BbL,eAhEF,SAY8B,GAAfA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,GAuDf,K,sICzEA,EAAoC,mCAApC,EAAsF,8B,SCIvE,SAASc,IACtB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAeA,IAbAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,6GAEUZ,EAAAA,EAAAA,WAAkBM,GAF5B,OAEXO,EAFW,OAGjBH,EAAWG,GAHM,gDAKjBC,QAAQC,MAAM,KAAMC,SALH,yDAAH,qDASlBJ,GACD,GAAE,CAACN,IAECG,EAIL,OACE,8BACGA,GAAWA,EAAQQ,OAAS,GAC3B,iBAAKC,UAAWC,EAAhB,WACE,qCACA,wBACGV,EAAQW,KAAI,SAAAC,GAAM,OACjB,gBAAoBH,UAAWC,EAA/B,WACE,oCAAYE,EAAOC,WACnB,uBAAID,EAAOE,YAFJF,EAAO1B,GADC,UASvB,gBAAKuB,UAAWC,EAAhB,yBAIP,C","sources":["api.js","webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '254171825383f2a3466dbbca546aa0a7';\nconst URL = 'https://api.themoviedb.org/3/trending/all/day';\nconst URL_SEARCH_BY_NAME = 'https://api.themoviedb.org/3/search/movie';\nconst URL_SEARCH_BY_ID = 'https://api.themoviedb.org/3/movie';\n\nasync function getPopularMovies() {\n  axios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n  try {\n    const { data } = await axios.get(`${URL}`);\n\n    return data.results;\n  } catch (error) {}\n}\n\nasync function getMovieByName(name) {\n  axios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    query: `${name}`,\n  };\n  try {\n    const { data } = await axios.get(`${URL_SEARCH_BY_NAME}`);\n    return data.results;\n  } catch (error) {}\n}\n\nasync function getMovieById(id) {\n  axios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n  try {\n    const { data } = await axios.get(`${URL_SEARCH_BY_ID}/${id}`);\n\n    return data;\n  } catch (error) {}\n}\n\nasync function getMovieActorById(id) {\n  axios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n  try {\n    const { data } = await axios.get(`${URL_SEARCH_BY_ID}/${id}/credits`);\n    return data.cast;\n  } catch (error) {}\n}\n\nasync function getMovieReviewsById(id) {\n  axios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    page: 1,\n  };\n  try {\n    const { data } = await axios.get(`${URL_SEARCH_BY_ID}/${id}/reviews`);\n    return data.results;\n  } catch (error) {}\n}\n\nconst apiGet = {\n  popular: getPopularMovies,\n  movieById: getMovieById,\n  getReviews: getMovieReviewsById,\n  getCast: getMovieActorById,\n  getMovieByName: getMovieByName,\n};\n\nexport default apiGet;\n","// extracted by mini-css-extract-plugin\nexport default {\"Reviews_container\":\"Reviews_Reviews_container__K3b2l\",\"Reviews_item\":\"Reviews_Reviews_item__9Ufok\"};","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport apiGet from '../../api';\nimport s from './Reviews.module.css';\n\nexport default function Reviews() {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState(null);\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const movieReviews = await apiGet.getReviews(movieId);\n        setReviews(movieReviews);\n      } catch (error) {\n        console.error(error.message);\n      }\n    };\n\n    fetchReviews();\n  }, [movieId]);\n\n  if (!reviews) {\n    return;\n  }\n\n  return (\n    <>\n      {reviews && reviews.length > 0 ? (\n        <div className={s.Reviews_container}>\n          <h1>Reviews</h1>\n          <ul>\n            {reviews.map(review => (\n              <li key={review.id} className={s.Reviews_item}>\n                <p>Author: {review.author}</p>\n                <p>{review.content}</p>\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <div className={s.Reviews_container}>No reviews</div>\n      )}\n    </>\n  );\n}\n"],"names":["API_KEY","URL","URL_SEARCH_BY_NAME","URL_SEARCH_BY_ID","getPopularMovies","axios","api_key","language","data","results","getMovieByName","name","query","getMovieById","id","getMovieActorById","cast","getMovieReviewsById","page","apiGet","popular","movieById","getReviews","getCast","Reviews","movieId","useParams","useState","reviews","setReviews","useEffect","fetchReviews","movieReviews","console","error","message","length","className","s","map","review","author","content"],"sourceRoot":""}